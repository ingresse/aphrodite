!function(e,n){"use strict";function t(e,n,t){if(!e)throw z("areq",n||"?",t||"required");return e}function a(e,n){return e||n?e?n?(j(e)&&(e=e.join(" ")),j(n)&&(n=n.join(" ")),e+" "+n):e:n:""}function o(e){var n={};return e&&(e.to||e.from)&&(n.to=e.to,n.from=e.from),n}function r(e,n,t){var a="";return e=j(e)?e:e&&H(e)&&e.length?e.split(/\s+/):[],F(e,function(e,o){e&&0<e.length&&(a+=0<o?" ":"",a+=t?n+e:e+n)}),a}function i(e){if(e instanceof U)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return U(l(e))}if(1===e.nodeType)return U(e)}function l(e){if(!e[0])return e;for(var n=0;n<e.length;n++){var t=e[n];if(1===t.nodeType)return t}}function s(e,n,t){F(n,function(n){e.addClass(n,t)})}function u(e,n,t){F(n,function(n){e.removeClass(n,t)})}function c(e){return function(n,t){t.addClass&&(s(e,n,t.addClass),t.addClass=null),t.removeClass&&(u(e,n,t.removeClass),t.removeClass=null)}}function d(e){if(e=e||{},!e.$$prepared){var n=e.domOperation||W;e.domOperation=function(){e.$$domOperationFired=!0,n(),n=W},e.$$prepared=!0}return e}function f(e,n){m(e,n),p(e,n)}function m(e,n){n.from&&(e.css(n.from),n.from=null)}function p(e,n){n.to&&(e.css(n.to),n.to=null)}function g(e,n,t){var a=n.options||{};t=t.options||{};var o=(a.addClass||"")+" "+(t.addClass||""),r=(a.removeClass||"")+" "+(t.removeClass||"");return e=v(e.attr("class"),o,r),t.preparationClasses&&(a.preparationClasses=b(t.preparationClasses,a.preparationClasses),delete t.preparationClasses),o=a.domOperation!==W?a.domOperation:null,B(a,t),o&&(a.domOperation=o),a.addClass=e.addClass?e.addClass:null,a.removeClass=e.removeClass?e.removeClass:null,n.addClass=a.addClass,n.removeClass=a.removeClass,a}function v(e,n,t){function a(e){H(e)&&(e=e.split(" "));var n={};return F(e,function(e){e.length&&(n[e]=!0)}),n}var o={};e=a(e),n=a(n),F(n,function(e,n){o[n]=1}),t=a(t),F(t,function(e,n){o[n]=1===o[n]?null:-1});var r={addClass:"",removeClass:""};return F(o,function(n,t){var a,o;1===n?(a="addClass",o=!e[t]||e[t+"-remove"]):-1===n&&(a="removeClass",o=e[t]||e[t+"-add"]),o&&(r[a].length&&(r[a]+=" "),r[a]+=t)}),r}function h(e){return e instanceof U?e[0]:e}function y(e,n,t){var a="";n&&(a=r(n,"ng-",!0)),t.addClass&&(a=b(a,r(t.addClass,"-add"))),t.removeClass&&(a=b(a,r(t.removeClass,"-remove"))),a.length&&(t.preparationClasses=a,e.addClass(a))}function $(e,n){var t=n?"-"+n+"s":"";return D(e,[J,t]),[J,t]}function C(e,n){var t=n?"paused":"",a=x+"PlayState";return D(e,[a,t]),[a,t]}function D(e,n){e.style[n[0]]=n[1]}function b(e,n){return e?n?e+" "+n:e:n}function S(e,n,t){var a=Object.create(null),o=e.getComputedStyle(n)||{};return F(t,function(e,n){var t=o[e];if(t){var r=t.charAt(0);("-"===r||"+"===r||0<=r)&&(t=A(t)),0===t&&(t=null),a[n]=t}}),a}function A(e){var n=0;return e=e.split(/\s*,\s*/),F(e,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,n=n?Math.max(e,n):e}),n}function T(e){return 0===e||null!=e}function w(e,n){var t=O,a=e+"s";return n?t+="Duration":a+=" linear all",[t,a]}function E(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(n){return(n=e[n])?n.total:0},get:function(n){return(n=e[n])&&n.value},put:function(n,t){e[n]?e[n].total++:e[n]={total:1,value:t}}}}function k(e,n,t){F(t,function(t){e[t]=R(e[t])?e[t]:n.style.getPropertyValue(t)})}var O,N,x,P;void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?(O="WebkitTransition",N="webkitTransitionEnd transitionend"):(O="transition",N="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(x="WebkitAnimation",P="webkitAnimationEnd animationend"):(x="animation",P="animationend");var I,B,F,j,R,M,L,q,H,K,U,W,V=x+"Delay",_=x+"Duration",J=O+"Delay",Q=O+"Duration",z=n.$$minErr("ng"),G={transitionDuration:Q,transitionDelay:J,transitionProperty:O+"Property",animationDuration:_,animationDelay:V,animationIterationCount:x+"IterationCount"},Y={transitionDuration:Q,transitionDelay:J,animationDuration:_,animationDelay:V};n.module("ngAnimate",[],function(){W=n.noop,I=n.copy,B=n.extend,U=n.element,F=n.forEach,j=n.isArray,H=n.isString,q=n.isObject,K=n.isUndefined,R=n.isDefined,L=n.isFunction,M=n.isElement}).directive("ngAnimateSwap",["$animate","$rootScope",function(e,n){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(n,t,a,o,r){var i,l;n.$watchCollection(a.ngAnimateSwap||a["for"],function(a){i&&e.leave(i),l&&(l.$destroy(),l=null),(a||0===a)&&(l=n.$new(),r(l,function(n){i=n,e.enter(n,null,t)}))})}}}]).directive("ngAnimateChildren",["$interpolate",function(e){return{link:function(n,t,a){function o(e){t.data("$$ngAnimateChildren","on"===e||"true"===e)}var r=a.ngAnimateChildren;H(r)&&0===r.length?t.data("$$ngAnimateChildren",!0):(o(e(r)(n)),a.$observe("ngAnimateChildren",o))}}}]).factory("$$rAFScheduler",["$$rAF",function(e){function n(e){a=a.concat(e),t()}function t(){if(a.length){for(var n=a.shift(),r=0;r<n.length;r++)n[r]();o||e(function(){o||t()})}}var a,o;return a=n.queue=[],n.waitUntilQuiet=function(n){o&&o(),o=e(function(){o=null,n(),t()})},n}]).provider("$$animateQueue",["$animateProvider",function(n){function a(e){if(!e)return null;e=e.split(" ");var n=Object.create(null);return F(e,function(e){n[e]=!0}),n}function o(e,n){if(e&&n){var t=a(n);return e.split(" ").some(function(e){return t[e]})}}function r(e,n,t,a){return u[e].some(function(e){return e(n,t,a)})}function s(e,n){var t=0<(e.addClass||"").length,a=0<(e.removeClass||"").length;return n?t&&a:t||a}var u=this.rules={skip:[],cancel:[],join:[]};u.join.push(function(e,n,t){return!n.structural&&s(n)}),u.skip.push(function(e,n,t){return!n.structural&&!s(n)}),u.skip.push(function(e,n,t){return"leave"===t.event&&n.structural}),u.skip.push(function(e,n,t){return t.structural&&2===t.state&&!n.structural}),u.cancel.push(function(e,n,t){return t.structural&&n.structural}),u.cancel.push(function(e,n,t){return 2===t.state&&n.structural}),u.cancel.push(function(e,n,t){if(t.structural)return!1;e=n.addClass,n=n.removeClass;var a=t.addClass;return t=t.removeClass,!(K(e)&&K(n)||K(a)&&K(t))&&(o(e,t)||o(n,a))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(a,o,u,m,p,v,$,C,D,b){function S(){var e=!1;return function(n){e?n():o.$$postDigest(function(){e=!0,n()})}}function A(e,n,t){var a=h(n),o=h(e),r=[];return(e=_[t])&&F(e,function(e){G.call(e.node,a)?r.push(e.callback):"leave"===t&&G.call(e.node,o)&&r.push(e.callback)}),r}function T(e,n,t){var a=l(n);return e.filter(function(e){return!(e.node===a&&(!t||e.callback===t))})}function w(e,n,t){function l(n,t,o,r){b(function(){var n=A(p,e,t);n.length?a(function(){F(n,function(n){n(e,o,r)}),"close"!==o||e[0].parentNode||Y.off(e)}):"close"!==o||e[0].parentNode||Y.off(e)}),n.progress(t,o,r)}function u(n){var t=e,a=C;a.preparationClasses&&(t.removeClass(a.preparationClasses),a.preparationClasses=null),a.activeClasses&&(t.removeClass(a.activeClasses),a.activeClasses=null),z(e,C),f(e,C),C.domOperation(),D.complete(!n)}var c,p,C=I(t);(e=i(e))&&(c=h(e),p=e.parent());var C=d(C),D=new $,b=S();if(j(C.addClass)&&(C.addClass=C.addClass.join(" ")),C.addClass&&!H(C.addClass)&&(C.addClass=null),j(C.removeClass)&&(C.removeClass=C.removeClass.join(" ")),C.removeClass&&!H(C.removeClass)&&(C.removeClass=null),C.from&&!q(C.from)&&(C.from=null),C.to&&!q(C.to)&&(C.to=null),!c)return u(),D;if(t=[c.className,C.addClass,C.removeClass].join(" "),!Q(t))return u(),D;var T=0<=["enter","move","leave"].indexOf(n),w=m[0].hidden,O=!W||w||L.get(c);t=!O&&P.get(c)||{};var B=!!t.state;if(O||B&&1===t.state||(O=!N(e,p,n)),O)return w&&l(D,n,"start"),u(),w&&l(D,n,"close"),D;if(T&&E(e),w={structural:T,element:e,event:n,addClass:C.addClass,removeClass:C.removeClass,close:u,options:C,runner:D},B){if(r("skip",e,w,t))return 2===t.state?(u(),D):(g(e,t,w),t.runner);if(r("cancel",e,w,t))if(2===t.state)t.runner.end();else{if(!t.structural)return g(e,t,w),t.runner;t.close()}else if(r("join",e,w,t)){if(2!==t.state)return y(e,T?n:null,C),n=w.event=t.event,C=g(e,t,w),t.runner;g(e,w,{})}}else g(e,w,{});if((B=w.structural)||(B="animate"===w.event&&0<Object.keys(w.options.to||{}).length||s(w)),!B)return u(),k(e),D;var R=(t.counter||0)+1;return w.counter=R,x(e,1,w),o.$$postDigest(function(){var t=P.get(c),a=!t,t=t||{},o=0<(e.parent()||[]).length&&("animate"===t.event||t.structural||s(t));a||t.counter!==R||!o?(a&&(z(e,C),f(e,C)),(a||T&&t.event!==n)&&(C.domOperation(),D.end()),o||k(e)):(n=!t.structural&&s(t,!0)?"setClass":t.event,x(e,2),t=v(e,n,t.options),D.setHost(t),l(D,n,"start",{}),t.done(function(t){u(!t),(t=P.get(c))&&t.counter===R&&k(h(e)),l(D,n,"close",{})}))}),D}function E(e){e=h(e).querySelectorAll("[data-ng-animate]"),F(e,function(e){var n=parseInt(e.getAttribute("data-ng-animate"),10),t=P.get(e);if(t)switch(n){case 2:t.runner.end();case 1:P.remove(e)}})}function k(e){e=h(e),e.removeAttribute("data-ng-animate"),P.remove(e)}function O(e,n){return h(e)===h(n)}function N(e,n,t){t=U(m[0].body);var a,o=O(e,t)||"HTML"===e[0].nodeName,r=O(e,u),i=!1,l=L.get(h(e));for((e=U.data(e[0],"$ngAnimatePin"))&&(n=e),n=h(n);n&&(r||(r=O(n,u)),1===n.nodeType);){if(e=P.get(n)||{},!i){var s=L.get(n);if(!0===s&&!1!==l){l=!0;break}!1===s&&(l=!1),i=e.structural}if((K(a)||!0===a)&&(e=U.data(n,"$$ngAnimateChildren"),R(e)&&(a=e)),i&&!1===a)break;if(o||(o=O(n,t)),o&&r)break;n=r||!(e=U.data(n,"$ngAnimatePin"))?n.parentNode:h(e)}return(!i||a)&&!0!==l&&r&&o}function x(e,n,t){t=t||{},t.state=n,e=h(e),e.setAttribute("data-ng-animate",n),t=(n=P.get(e))?B(n,t):t,P.put(e,t)}var P=new p,L=new p,W=null,V=o.$watch(function(){return 0===C.totalPendingRequests},function(e){e&&(V(),o.$$postDigest(function(){o.$$postDigest(function(){null===W&&(W=!0)})}))}),_=Object.create(null),J=n.classNameFilter(),Q=J?function(e){return J.test(e)}:function(){return!0},z=c(D),G=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},Y={on:function(e,n,t){var a=l(n);_[e]=_[e]||[],_[e].push({node:a,callback:t}),U(n).on("$destroy",function(){P.get(a)||Y.off(e,n,t)})},off:function(e,n,t){if(1!==arguments.length||H(arguments[0])){var a=_[e];a&&(_[e]=1===arguments.length?null:T(a,n,t))}else for(a in n=arguments[0],_)_[a]=T(_[a],n)},pin:function(e,n){t(M(e),"element","not an element"),t(M(n),"parentElement","not an element"),e.data("$ngAnimatePin",n)},push:function(e,n,t,a){return t=t||{},t.domOperation=a,w(e,n,t)},enabled:function(e,n){var t=arguments.length;if(0===t)n=!!W;else if(M(e)){var a=h(e);1===t?n=!L.get(a):L.put(a,!n)}else n=W=!!e;return n}};return Y}]}]).provider("$$animation",["$animateProvider",function(e){var n=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(e,t,o,r,i,l){function s(e){function n(e){if(e.processed)return e;e.processed=!0;var t=e.domNode,r=t.parentNode;o.put(t,e);for(var i;r;){if(i=o.get(r)){i.processed||(i=n(i));break}r=r.parentNode}return(i||a).children.push(e),e}var t,a={children:[]},o=new i;for(t=0;t<e.length;t++){var r=e[t];o.put(r.domNode,e[t]={domNode:r.domNode,fn:r.fn,children:[]})}for(t=0;t<e.length;t++)n(e[t]);return function(e){var n,t=[],a=[];for(n=0;n<e.children.length;n++)a.push(e.children[n]);e=a.length;var o=0,r=[];for(n=0;n<a.length;n++){var i=a[n];0>=e&&(e=o,o=0,t.push(r),r=[]),r.push(i.fn),i.children.forEach(function(e){o++,a.push(e)}),e--}return r.length&&t.push(r),t}(a)}var u=[],m=c(e);return function(i,c,p){function g(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var n=[];return F(e,function(e){var t=e.getAttribute("ng-animate-ref");t&&t.length&&n.push(e)}),n}function v(e){var n=[],t={};F(e,function(e,a){var o=h(e.element),r=0<=["enter","move"].indexOf(e.event),o=e.structural?g(o):[];if(o.length){var i=r?"to":"from";F(o,function(e){var n=e.getAttribute("ng-animate-ref");t[n]=t[n]||{},t[n][i]={animationID:a,element:U(e)}})}else n.push(e)});var a={},o={};return F(t,function(t,r){var i=t.from,l=t.to;if(i&&l){var s=e[i.animationID],u=e[l.animationID],c=i.animationID.toString();if(!o[c]){var d=o[c]={structural:!0,beforeStart:function(){s.beforeStart(),u.beforeStart()},close:function(){s.close(),u.close()},classes:y(s.classes,u.classes),from:s,to:u,anchors:[]};d.classes.length?n.push(d):(n.push(s),n.push(u))}o[c].anchors.push({out:i.element,"in":l.element})}else i=i?i.animationID:l.animationID,l=i.toString(),a[l]||(a[l]=!0,n.push(e[i]))}),n}function y(e,n){e=e.split(" "),n=n.split(" ");for(var t=[],a=0;a<e.length;a++){var o=e[a];if("ng-"!==o.substring(0,3))for(var r=0;r<n.length;r++)if(o===n[r]){t.push(o);break}}return t.join(" ")}function $(e){for(var t=n.length-1;0<=t;t--){var a=o.get(n[t])(e);if(a)return a}}function C(e,n){function t(e){(e=e.data("$$animationRunner"))&&e.setHost(n)}e.from&&e.to?(t(e.from.element),t(e.to.element)):t(e.element)}function D(){var e=i.data("$$animationRunner");!e||"leave"===c&&p.$$domOperationFired||e.end()}function b(n){i.off("$destroy",D),i.removeData("$$animationRunner"),m(i,p),f(i,p),p.domOperation(),w&&e.removeClass(i,w),i.removeClass("ng-animate"),A.complete(!n)}p=d(p);var S=0<=["enter","move","leave"].indexOf(c),A=new r({end:function(){b()},cancel:function(){b(!0)}});if(!n.length)return b(),A;i.data("$$animationRunner",A);var T=a(i.attr("class"),a(p.addClass,p.removeClass)),w=p.tempClasses;w&&(T+=" "+w,p.tempClasses=null);var E;return S&&(E="ng-"+c+"-prepare",e.addClass(i,E)),u.push({element:i,classes:T,event:c,structural:S,options:p,beforeStart:function(){i.addClass("ng-animate"),w&&e.addClass(i,w),E&&(e.removeClass(i,E),E=null)},close:b}),i.on("$destroy",D),1<u.length?A:(t.$$postDigest(function(){var e=[];F(u,function(n){n.element.data("$$animationRunner")?e.push(n):n.close()}),u.length=0;var n=v(e),t=[];F(n,function(e){t.push({domNode:h(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var n,t=e.close;if((e.anchors?e.from.element||e.to.element:e.element).data("$$animationRunner")){var a=$(e);a&&(n=a.start)}n?(n=n(),n.done(function(e){t(!e)}),C(e,n)):t()}})}),l(s(t))}),A)}}]}]).provider("$animateCss",["$animateProvider",function(e){var n=E(),t=E();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,a,i,l,s,u,g,v){function y(e,n){var t=e.parentNode;return(t.$$ngAnimateParentKey||(t.$$ngAnimateParentKey=++R))+"-"+e.getAttribute("class")+"-"+n}function b(o,i,l,s){var u;return 0<n.count(l)&&(u=t.get(l),u||(i=r(i,"-stagger"),a.addClass(o,i),u=S(e,o,s),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),a.removeClass(o,i),t.put(l,u))),u||{}}function A(e){M.push(e),g.waitUntilQuiet(function(){n.flush(),t.flush();for(var e=s(),a=0;a<M.length;a++)M[a](e);M.length=0})}function E(t,a,o){return a=n.get(o),a||(a=S(e,t,G),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),n.put(o,a),t=a,o=t.animationDelay,a=t.transitionDelay,t.maxDelay=o&&a?Math.max(o,a):o||a,t.maxDuration=Math.max(t.animationDuration*t.animationIterationCount,t.transitionDuration),t}var B=c(a),R=0,M=[];return function(e,t){function s(){g()}function c(){g(!0)}function g(n){if(!(U||z&&Q)){U=!0,Q=!1,q.$$skipPreparationClasses||a.removeClass(e,de),a.removeClass(e,me),C(K,!1),$(K,!1),F(oe,function(e){K.style[e[0]]=""}),B(e,q),f(e,q),Object.keys(H).length&&F(H,function(e,n){e?K.style.setProperty(n,e):K.style.removeProperty(n)}),q.onDone&&q.onDone(),le&&le.length&&e.off(le.join(" "),M);var t=e.data("$$animateCss");t&&(l.cancel(t[0].timer),e.removeData("$$animateCss")),G&&G.complete(!n)}}function S(e){$e.blockTransition&&$(K,e),$e.blockKeyframeAnimation&&C(K,!!e)}function R(){return G=new i({end:s,cancel:c}),A(W),g(),{$$willAnimate:!1,start:function(){return G},end:s}}function M(e){e.stopPropagation();var n=e.originalEvent||e;e=n.$manualTimeStamp||Date.now(),n=parseFloat(n.elapsedTime.toFixed(3)),Math.max(e-ae,0)>=ee&&n>=ne&&(z=!0,g())}function L(){function n(){if(!U){if(S(!1),F(oe,function(e){K.style[e[0]]=e[1]}),B(e,q),a.addClass(e,me),$e.recalculateTimingStyles){if(fe=K.className+" "+de,pe=y(K,fe),he=E(K,fe,pe),ye=he.maxDelay,Z=Math.max(ye,0),ne=he.maxDuration,0===ne)return void g();$e.hasTransitions=0<he.transitionDuration,$e.hasAnimations=0<he.animationDuration}if($e.applyAnimationDelay&&(ye="boolean"!=typeof q.delay&&T(q.delay)?parseFloat(q.delay):ye,Z=Math.max(ye,0),he.animationDelay=ye,Ce=[V,ye+"s"],oe.push(Ce),K.style[Ce[0]]=Ce[1]),ee=1e3*Z,te=1e3*ne,q.easing){var n,o=q.easing;$e.hasTransitions&&(n=O+"TimingFunction",oe.push([n,o]),K.style[n]=o),$e.hasAnimations&&(n=x+"TimingFunction",oe.push([n,o]),K.style[n]=o)}he.transitionDuration&&le.push(N),he.animationDuration&&le.push(P),ae=Date.now();var r=ee+1.5*te;n=ae+r;var o=e.data("$$animateCss")||[],i=!0;if(o.length){var s=o[0];(i=n>s.expectedEndTime)?l.cancel(s.timer):o.push(g)}i&&(r=l(t,r,!1),o[0]={timer:r,expectedEndTime:n},o.push(g),e.data("$$animateCss",o)),le.length&&e.on(le.join(" "),M),q.to&&(q.cleanupStyles&&k(H,K,Object.keys(q.to)),p(e,q))}}function t(){var n=e.data("$$animateCss");if(n){for(var t=1;t<n.length;t++)n[t]();e.removeData("$$animateCss")}}if(!U)if(K.parentNode){var o=function(e){if(z)Q&&e&&(Q=!1,g());else if(Q=!e,he.animationDuration)if(e=C(K,Q),Q)oe.push(e);else{var n=oe,t=n.indexOf(e);0<=e&&n.splice(t,1)}},r=0<ve&&(he.transitionDuration&&0===ge.transitionDuration||he.animationDuration&&0===ge.animationDuration)&&Math.max(ge.animationDelay,ge.transitionDelay);r?l(n,Math.floor(r*ve*1e3),!1):n(),X.resume=function(){o(!0)},X.pause=function(){o(!1)}}else g()}var q=t||{};q.$$prepared||(q=d(I(q)));var H={},K=h(e);if(!K||!K.parentNode||!v.enabled())return R();var U,Q,z,G,X,Z,ee,ne,te,ae,oe=[],re=e.attr("class"),ie=o(q),le=[];if(0===q.duration||!u.animations&&!u.transitions)return R();var se=q.event&&j(q.event)?q.event.join(" "):q.event,ue="",ce="";se&&q.structural?ue=r(se,"ng-",!0):se&&(ue=se),q.addClass&&(ce+=r(q.addClass,"-add")),q.removeClass&&(ce.length&&(ce+=" "),ce+=r(q.removeClass,"-remove")),q.applyClassesEarly&&ce.length&&B(e,q);var de=[ue,ce].join(" ").trim(),fe=re+" "+de,me=r(de,"-active"),re=ie.to&&0<Object.keys(ie.to).length;if(!(0<(q.keyframeStyle||"").length||re||de))return R();var pe,ge;0<q.stagger?(ie=parseFloat(q.stagger),ge={transitionDelay:ie,animationDelay:ie,transitionDuration:0,animationDuration:0}):(pe=y(K,fe),ge=b(K,de,pe,Y)),q.$$skipPreparationClasses||a.addClass(e,de),q.transitionStyle&&(ie=[O,q.transitionStyle],D(K,ie),oe.push(ie)),0<=q.duration&&(ie=0<K.style[O].length,ie=w(q.duration,ie),D(K,ie),oe.push(ie)),q.keyframeStyle&&(ie=[x,q.keyframeStyle],D(K,ie),oe.push(ie));var ve=ge?0<=q.staggerIndex?q.staggerIndex:n.count(pe):0;(se=0===ve)&&!q.skipBlocking&&$(K,9999);var he=E(K,fe,pe),ye=he.maxDelay;Z=Math.max(ye,0),ne=he.maxDuration;var $e={};if($e.hasTransitions=0<he.transitionDuration,$e.hasAnimations=0<he.animationDuration,$e.hasTransitionAll=$e.hasTransitions&&"all"===he.transitionProperty,$e.applyTransitionDuration=re&&($e.hasTransitions&&!$e.hasTransitionAll||$e.hasAnimations&&!$e.hasTransitions),$e.applyAnimationDuration=q.duration&&$e.hasAnimations,$e.applyTransitionDelay=T(q.delay)&&($e.applyTransitionDuration||$e.hasTransitions),$e.applyAnimationDelay=T(q.delay)&&$e.hasAnimations,$e.recalculateTimingStyles=0<ce.length,($e.applyTransitionDuration||$e.applyAnimationDuration)&&(ne=q.duration?parseFloat(q.duration):ne,$e.applyTransitionDuration&&($e.hasTransitions=!0,he.transitionDuration=ne,ie=0<K.style[O+"Property"].length,oe.push(w(ne,ie))),$e.applyAnimationDuration&&($e.hasAnimations=!0,he.animationDuration=ne,oe.push([_,ne+"s"]))),0===ne&&!$e.recalculateTimingStyles)return R();if(null!=q.delay){var Ce;"boolean"!=typeof q.delay&&(Ce=parseFloat(q.delay),Z=Math.max(Ce,0)),$e.applyTransitionDelay&&oe.push([J,Ce+"s"]),$e.applyAnimationDelay&&oe.push([V,Ce+"s"])}return null==q.duration&&0<he.transitionDuration&&($e.recalculateTimingStyles=$e.recalculateTimingStyles||se),ee=1e3*Z,te=1e3*ne,q.skipBlocking||($e.blockTransition=0<he.transitionDuration,$e.blockKeyframeAnimation=0<he.animationDuration&&0<ge.animationDelay&&0===ge.animationDuration),q.from&&(q.cleanupStyles&&k(H,K,Object.keys(q.from)),m(e,q)),$e.blockTransition||$e.blockKeyframeAnimation?S(ne):q.skipBlocking||$(K,!1),{$$willAnimate:!0,end:s,start:function(){if(!U)return X={end:s,cancel:c,resume:null,pause:null},G=new i(X),A(L),G}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,n,t,a,o,r,i){function l(e){return e.replace(/\bng-\S+\b/g,"")}function s(e,n){return H(e)&&(e=e.split(" ")),H(n)&&(n=n.split(" ")),e.filter(function(e){return-1===n.indexOf(e)}).join(" ")}function u(n,a,o){function r(e){var n={},t=h(e).getBoundingClientRect();return F(["width","height","top","left"],function(e){var a=t[e];switch(e){case"top":a+=f.scrollTop;break;case"left":a+=f.scrollLeft}n[e]=Math.floor(a)+"px"}),n}function i(){var n=l(o.attr("class")||""),t=s(n,d),n=s(d,n),t=e(c,{to:r(o),addClass:"ng-anchor-in "+t,removeClass:"ng-anchor-out "+n,delay:!0});return t.$$willAnimate?t:null}function u(){c.remove(),a.removeClass("ng-animate-shim"),o.removeClass("ng-animate-shim")}var c=U(h(a).cloneNode(!0)),d=l(c.attr("class")||"");a.addClass("ng-animate-shim"),o.addClass("ng-animate-shim"),c.addClass("ng-anchor"),m.append(c);var p;if(n=function(){var n=e(c,{addClass:"ng-anchor-out",delay:!0,from:r(a)});return n.$$willAnimate?n:null}(),!n&&(p=i(),!p))return u();var g=n||p;return{start:function(){function e(){a&&a.end()}var n,a=g.start();return a.done(function(){return a=null,!p&&(p=i())?(a=p.start(),a.done(function(){a=null,u(),n.complete()}),a):(u(),void n.complete())}),n=new t({end:e,cancel:e})}}}function c(e,n,a,o){var r=d(e,W),i=d(n,W),l=[];if(F(o,function(e){(e=u(a,e.out,e["in"]))&&l.push(e)}),r||i||0!==l.length)return{start:function(){function e(){F(n,function(e){e.end()})}var n=[];r&&n.push(r.start()),i&&n.push(i.start()),F(l,function(e){n.push(e.start())});var a=new t({end:e,cancel:e});return t.all(n,function(e){a.complete(e)}),a}}}function d(n){var t=n.element,a=n.options||{};return n.structural&&(a.event=n.event,a.structural=!0,a.applyClassesEarly=!0,"leave"===n.event&&(a.onDone=a.domOperation)),a.preparationClasses&&(a.event=b(a.event,a.preparationClasses)),n=e(t,a),n.$$willAnimate?n:null}if(!o.animations&&!o.transitions)return W;var f=i[0].body;n=h(a);var m=U(n.parentNode&&11===n.parentNode.nodeType||f.contains(n)?n:f);return function(e){return e.from&&e.to?c(e.from,e.to,e.classes,e.anchors):d(e)}}]}]).provider("$$animateJs",["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(n,t,a){function o(t){t=j(t)?t:t.split(" ");for(var a=[],o={},r=0;r<t.length;r++){var i=t[r],l=e.$$registeredAnimations[i];l&&!o[i]&&(a.push(n.get(l)),o[i]=!0)}return a}var r=c(a);return function(e,n,a,i){function l(){i.domOperation(),r(e,i)}function s(e,n,a,o,r){switch(a){case"animate":n=[n,o.from,o.to,r];break;case"setClass":n=[n,v,h,r];break;case"addClass":n=[n,v,r];break;case"removeClass":n=[n,h,r];break;default:n=[n,r]}if(n.push(o),e=e.apply(e,n))if(L(e.start)&&(e=e.start()),e instanceof t)e.done(r);else if(L(e))return e;return W}function u(e,n,a,o,r){var i=[];return F(o,function(o){var l=o[r];l&&i.push(function(){var o,r,i=!1,u=function(e){i||(i=!0,(r||W)(e),o.complete(!e))};return o=new t({end:function(){u()},cancel:function(){u(!0)}}),r=s(l,e,n,a,function(e){u(!1===e)}),o})}),i}function c(e,n,a,o,r){var i=u(e,n,a,o,r);if(0===i.length){var l,s;"beforeSetClass"===r?(l=u(e,"removeClass",a,o,"beforeRemoveClass"),s=u(e,"addClass",a,o,"beforeAddClass")):"setClass"===r&&(l=u(e,"removeClass",a,o,"removeClass"),s=u(e,"addClass",a,o,"addClass")),l&&(i=i.concat(l)),s&&(i=i.concat(s))}if(0!==i.length)return function(e){var n=[];return i.length&&F(i,function(e){n.push(e())}),n.length?t.all(n,e):e(),function(e){F(n,function(n){e?n.cancel():n.end()})}}}var m=!1;3===arguments.length&&q(a)&&(i=a,a=null),i=d(i),a||(a=e.attr("class")||"",i.addClass&&(a+=" "+i.addClass),i.removeClass&&(a+=" "+i.removeClass));var p,g,v=i.addClass,h=i.removeClass,y=o(a);if(y.length){var $,C;"leave"===n?(C="leave",$="afterLeave"):(C="before"+n.charAt(0).toUpperCase()+n.substr(1),$=n),"enter"!==n&&"move"!==n&&(p=c(e,n,i,y,C)),g=c(e,n,i,y,$)}if(p||g){var D;return{$$willAnimate:!0,end:function(){return D?D.end():(m=!0,l(),f(e,i),D=new t,D.complete(!0)),D},start:function(){function n(n){m=!0,l(),f(e,i),D.complete(n)}if(D)return D;D=new t;var a,o=[];return p&&o.push(function(e){a=p(e)}),o.length?o.push(function(e){l(),e(!0)}):l(),g&&o.push(function(e){a=g(e)}),D.setHost({end:function(){m||((a||W)(void 0),n(void 0))},cancel:function(){m||((a||W)(!0),n(!0))}}),t.chain(o,n),D}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,n){function t(n){return e(n.element,n.event,n.classes,n.options)}return function(e){if(!e.from||!e.to)return t(e);var a=t(e.from),o=t(e.to);return a||o?{start:function(){function e(){return function(){F(t,function(e){e.end()})}}var t=[];a&&t.push(a.start()),o&&t.push(o.start()),n.all(t,function(e){r.complete(e)});var r=new n({end:e(),cancel:e()});return r}}:void 0}}]}])}(window,window.angular);var duScrollDefaultEasing=function(e){"use strict";return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollSpyRefreshInterval",0).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,n,t,a,o,r,i,l){"use strict";var s={},u=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},c=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return c(e)||u(e)?e:e[0]};s.duScrollTo=function(n,t,a,o){var r;if(angular.isElement(n)?r=this.duScrollToElement:angular.isDefined(a)&&(r=this.duScrollToAnimated),r)return r.apply(this,arguments);var i=d(this);return u(i)?e.scrollTo(n,t):(i.scrollLeft=n,void(i.scrollTop=t))};var f,m;s.duScrollToAnimated=function(e,r,i,s){i&&!s&&(s=o);var u=this.duScrollLeft(),c=this.duScrollTop(),d=Math.round(e-u),p=Math.round(r-c),g=null,v=0,h=this,y=function(e){(!e||v&&e.which>0)&&(l&&h.unbind(l,y),t(f),m.reject(),f=null)};if(f&&y(),m=n.defer(),0===i||!d&&!p)return 0===i&&h.duScrollTo(e,r),m.resolve(),m.promise;var $=function(e){null===g&&(g=e),v=e-g;var n=v>=i?1:s(v/i);h.scrollTo(u+Math.ceil(d*n),c+Math.ceil(p*n)),n<1?f=a($):(l&&h.unbind(l,y),f=null,m.resolve())};return h.duScrollTo(u,c),l&&h.bind(l,y),f=a($),m.promise},s.duScrollToElement=function(e,n,t,a){var o=d(this);angular.isNumber(n)&&!isNaN(n)||(n=i);var r=this.duScrollTop()+d(e).getBoundingClientRect().top-n;return c(o)&&(r-=o.getBoundingClientRect().top),this.duScrollTo(0,r,t,a)},s.duScrollLeft=function(n,t,a){if(angular.isNumber(n))return this.duScrollTo(n,this.duScrollTop(),t,a);var o=d(this);return u(o)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:o.scrollLeft},s.duScrollTop=function(n,t,a){if(angular.isNumber(n))return this.duScrollTo(this.duScrollLeft(),n,t,a);var o=d(this);return u(o)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:o.scrollTop},s.duScrollToElementAnimated=function(e,n,t,a){return this.duScrollToElement(e,n,t||r,a)},s.duScrollTopAnimated=function(e,n,t){return this.duScrollTop(e,n||r,t)},s.duScrollLeftAnimated=function(e,n,t){return this.duScrollLeft(e,n||r,t)},angular.forEach(s,function(e,n){angular.element.prototype[n]=e;var t=n.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[t])&&(angular.element.prototype[t]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var n=["webkit","moz","o","ms"];return function(t,a){if(e[t])return e[t];for(var o,r=t.substr(0,1).toUpperCase()+t.substr(1),i=0;i<n.length;i++)if(o=n[i]+r,e[o])return e[o];return a}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,n){"use strict";var t=0,a=function(e,a){var o=(new Date).getTime(),r=Math.max(0,16-(o-t)),i=n(function(){e(o+r)},r);return t=o+r,i};return e("requestAnimationFrame",a)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,n){"use strict";var t=function(e){n.cancel(e)};return e("cancelAnimationFrame",t)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$interval","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollSpyRefreshInterval","duScrollBottomSpy","duScrollActiveClass",function(e,n,t,a,o,r,i,l,s,u,c){"use strict";var d=function(t){var r=!1,s=!1,d=function(){s=!1;var n,r=t.container,l=r[0],d=0;if("undefined"!=typeof HTMLElement&&l instanceof HTMLElement||l.nodeType&&l.nodeType===l.ELEMENT_NODE)d=l.getBoundingClientRect().top,n=Math.round(l.scrollTop+l.clientHeight)>=l.scrollHeight;else{var f=o[0].body.scrollHeight||o[0].documentElement.scrollHeight;n=Math.round(a.pageYOffset+a.innerHeight)>=f}var m,p,g,v,h,y,$=u&&n?"bottom":"top";for(v=t.spies,p=t.currentlyActive,g=void 0,m=0;m<v.length;m++)h=v[m],y=h.getTargetPosition(),y&&h.$element&&(u&&n||y.top+h.offset-d<20&&(i||y.top*-1+d)<y.height)&&(!g||g[$]<y[$])&&(g={spy:h},g[$]=y[$]);g&&(g=g.spy),p===g||i&&!g||(p&&p.$element&&(p.$element.removeClass(c),e.$broadcast("duScrollspy:becameInactive",p.$element,angular.element(p.getTargetElement()))),g&&(g.$element.addClass(c),e.$broadcast("duScrollspy:becameActive",g.$element,angular.element(g.getTargetElement()))),t.currentlyActive=g)};return l?function(){r?s=!0:(d(),r=n(function(){r=!1,s&&d()},l,!1))}:d},f={},m=function(e){var n=e.$id,t={spies:[]};return t.handler=d(t),f[n]=t,e.$on("$destroy",function(){p(e)}),n},p=function(e){var n=e.$id,a=f[n],o=a.container;a.intervalPromise&&t.cancel(a.intervalPromise),o&&o.off("scroll",a.handler),delete f[n]},g=m(e),v=function(e){return f[e.$id]?f[e.$id]:e.$parent?v(e.$parent):f[g]},h=function(e){var n,t,a=e.$scope;if(a)return v(a);for(t in f)if(n=f[t],n.spies.indexOf(e)!==-1)return n},y=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},$=function(e){var n=h(e);n&&(n.spies.push(e),n.container&&y(n.container)||(n.container&&n.container.off("scroll",n.handler),n.container=r.getContainer(e.$scope),s&&!n.intervalPromise&&(n.intervalPromise=t(n.handler,s,0,!1)),n.container.on("scroll",n.handler).triggerHandler("scroll")))},C=function(n){var t=h(n);n===t.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",t.currentlyActive.$element),t.currentlyActive=null);var a=t.spies.indexOf(n);a!==-1&&t.spies.splice(a,1),n.$element=null};return{addSpy:$,removeSpy:C,createContext:m,destroyContext:p,getContextForScope:v}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var n={},t=function(e,t){var a=e.$id;return n[a]=t,a},a=function(e){return n[e.$id]?e.$id:e.$parent?a(e.$parent):void 0},o=function(t){var o=a(t);return o?n[o]:e},r=function(e){var t=a(e);t&&delete n[t];
};return{getContainerId:a,getContainer:o,setContainer:t,removeContainer:r}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,n,t){"use strict";return{link:function(a,o,r){o.on("click",function(o){if(r.href&&r.href.indexOf("#")!==-1||""!==r.duSmoothScroll){var i=r.href?r.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):r.duSmoothScroll,l=document.getElementById(i)||document.getElementsByName(i)[0];if(l&&l.getBoundingClientRect){o.stopPropagation&&o.stopPropagation(),o.preventDefault&&o.preventDefault();var s=r.offset?parseInt(r.offset,10):n,u=r.duration?parseInt(r.duration,10):e,c=t.getContainer(a);c.duScrollToElement(angular.element(l),isNaN(s)?0:s,isNaN(u)?0:u)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(n,t,a){return{pre:function(n,t,a,o){e.createContext(n)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(n,t,a){return{pre:function(n,t,a,o){a.$observe("duScrollContainer",function(a){angular.isString(a)&&(a=document.getElementById(a)),a=angular.isElement(a)?angular.element(a):t,e.setContainer(n,a),n.$on("$destroy",function(){e.removeContainer(n)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,n,t,a){"use strict";var o=function(e,n,t,a){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=n,this.$element=t,this.offset=a};return o.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},o.prototype.getTargetPosition=function(){var e=this.getTargetElement();if(e)return e.getBoundingClientRect()},o.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(r,i,l){var s,u=l.ngHref||l.href;if(u&&u.indexOf("#")!==-1?s=u.replace(/.*(?=#[^\s]+$)/,"").substring(1):l.duScrollspy?s=l.duScrollspy:l.duSmoothScroll&&(s=l.duSmoothScroll),s){var c=t(function(){var t=new o(s,r,i,(-(l.offset?parseInt(l.offset,10):n)));e.addSpy(t),r.$on("$locationChangeSuccess",t.flushTargetCache.bind(t));var u=a.$on("$stateChangeSuccess",t.flushTargetCache.bind(t));r.$on("$destroy",function(){e.removeSpy(t),u()})},0,!1);r.$on("$destroy",function(){t.cancel(c)})}}}}]),function(){"use strict";function e(e,n,t){return{restrict:"A",link:function(a,o,r){t(function(){function i(e){var i,l,c,d,f,m;if(!angular.element(o).hasClass("ng-hide")&&e&&e.target){for(l=e.target;l;l=l.parentNode){if(l===o[0])return;if(d=l.id,f=l.className,m=u.length,f&&void 0!==f.baseVal&&(f=f.baseVal),f||d)for(i=0;i<m;i++)if(c=new RegExp("\\b"+u[i]+"\\b"),void 0!==d&&d===u[i]||f&&c.test(f))return}t(function(){(s=n(r.clickOutside))(a,{event:e})})}}function l(){return"ontouchstart"in window||navigator.maxTouchPoints}var s,u=void 0!==r.outsideIfNot?r.outsideIfNot.split(/[ ,]+/):[];l()&&e.on("touchstart",i),e.on("click",i),a.$on("$destroy",function(){l()&&e.off("touchstart",i),e.off("click",i)})})}}}angular.module("angular-click-outside",[]).directive("clickOutside",["$document","$parse","$timeout",e])}(),!function(e,n){"undefined"!=typeof module&&module.exports?(n("undefined"==typeof angular?require("angular"):angular),module.exports="ngDialog"):"function"==typeof define&&define.amd?define(["angular"],n):n(e.angular)}(this,function(e){"use strict";var n=e.module("ngDialog",[]),t=e.element,a=e.isDefined,o=(document.body||document.documentElement).style,r=a(o.animation)||a(o.WebkitAnimation)||a(o.MozAnimation)||a(o.MsAnimation)||a(o.OAnimation),i="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",l="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",s="ngdialog-disabled-animation",u={html:!1,body:!1},c={},d=[],f=[],m=!1,p=!1,g=[],v="legacy",h="1.0.0+";return n.provider("ngDialog",function(){var n=this.defaults={className:"ngdialog-theme-default",appendClassName:"",disableAnimation:!1,plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,onOpenCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null,bodyClassName:"ngdialog-open",width:null,height:null};this.setForceHtmlReload=function(e){u.html=e||!1},this.setForceBodyReload=function(e){u.body=e||!1},this.setDefaults=function(t){e.extend(n,t)},this.setOpenOnePerName=function(e){p=e||!1};var a,o=0,y=0,$={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(C,D,b,S,A,T,w,E,k,O){var N=[],x={onDocumentKeydown:function(e){27===e.keyCode&&P.close("$escape")},activate:function(e){var n=e.data("$ngDialogOptions");n.trapFocus&&(e.on("keydown",x.onTrapFocusKeydown),N.body.on("keydown",x.onTrapFocusKeydown))},deactivate:function(e){e.off("keydown",x.onTrapFocusKeydown),N.body.off("keydown",x.onTrapFocusKeydown)},deactivateAll:function(n){e.forEach(n,function(n){var t=e.element(n);x.deactivate(t)})},setBodyPadding:function(e){var n=parseInt(N.body.css("padding-right")||0,10);N.body.css("padding-right",n+e+"px"),N.body.data("ng-dialog-original-padding",n),T.$broadcast("ngDialog.setPadding",e)},resetBodyPadding:function(){var e=N.body.data("ng-dialog-original-padding");e?N.body.css("padding-right",e+"px"):N.body.css("padding-right",""),T.$broadcast("ngDialog.setPadding",0)},performCloseDialog:function(e,n){var t=e.data("$ngDialogOptions"),o=e.attr("id"),l=c[o];if(x.deactivate(e),l){if("undefined"!=typeof E.Hammer){var s=l.hammerTime;s.off("tap",a),s.destroy&&s.destroy(),delete l.hammerTime}else e.unbind("click");1===y&&N.body.unbind("keydown",x.onDocumentKeydown),e.hasClass("ngdialog-closing")||(y-=1);var u=e.data("$ngDialogPreviousFocus");u&&u.focus&&u.focus(),T.$broadcast("ngDialog.closing",e,n),y=y<0?0:y,r&&!t.disableAnimation?(l.$destroy(),e.unbind(i).bind(i,function(){x.closeDialogElement(e,n)}).addClass("ngdialog-closing")):(l.$destroy(),x.closeDialogElement(e,n)),$[o]&&($[o].resolve({id:o,value:n,$dialog:e,remainingDialogs:y}),delete $[o]),c[o]&&delete c[o],d.splice(d.indexOf(o),1),d.length||(N.body.unbind("keydown",x.onDocumentKeydown),m=!1),0==y&&(a=void 0)}},closeDialogElement:function(e,n){var t=e.data("$ngDialogOptions");e.remove(),f.splice(f.indexOf(t.bodyClassName),1),f.indexOf(t.bodyClassName)===-1&&(N.html.removeClass(t.bodyClassName),N.body.removeClass(t.bodyClassName)),0===y&&x.resetBodyPadding(),T.$broadcast("ngDialog.closed",e,n)},closeDialog:function(n,t){var a=n.data("$ngDialogPreCloseCallback");if(a&&e.isFunction(a)){var o=a.call(n,t);if(e.isObject(o))o.closePromise?o.closePromise.then(function(){x.performCloseDialog(n,t)},function(){return!1}):o.then(function(){x.performCloseDialog(n,t)},function(){return!1});else{if(o===!1)return!1;x.performCloseDialog(n,t)}}else x.performCloseDialog(n,t)},onTrapFocusKeydown:function(n){var t,a=e.element(n.currentTarget);if(a.hasClass("ngdialog"))t=a;else if(t=x.getActiveDialog(),null===t)return;var o=9===n.keyCode,r=n.shiftKey===!0;o&&x.handleTab(t,n,r)},handleTab:function(e,n,t){var a=x.getFocusableElements(e);if(0===a.length)return void(document.activeElement&&document.activeElement.blur&&document.activeElement.blur());var o=document.activeElement,r=Array.prototype.indexOf.call(a,o),i=r===-1,l=0===r,s=r===a.length-1,u=!1;t?(i||l)&&(a[a.length-1].focus(),u=!0):(i||s)&&(a[0].focus(),u=!0),u&&(n.preventDefault(),n.stopPropagation())},autoFocus:function(e){var n=e[0],a=n.querySelector("*[autofocus]");if(null===a||(a.focus(),document.activeElement!==a)){var o=x.getFocusableElements(e);if(o.length>0)return void o[0].focus();var r=x.filterVisibleElements(n.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(r.length>0){var i=r[0];t(i).attr("tabindex","-1").css("outline","0"),i.focus()}}},getFocusableElements:function(e){var n=e[0],t=n.querySelectorAll(l),a=x.filterTabbableElements(t);return x.filterVisibleElements(a)},filterTabbableElements:function(e){for(var n=[],a=0;a<e.length;a++){var o=e[a];"-1"!==t(o).attr("tabindex")&&n.push(o)}return n},filterVisibleElements:function(e){for(var n=[],t=0;t<e.length;t++){var a=e[t];(a.offsetWidth>0||a.offsetHeight>0)&&n.push(a)}return n},getActiveDialog:function(){var e=document.querySelectorAll(".ngdialog");return 0===e.length?null:t(e[e.length-1])},applyAriaAttributes:function(e,n){if(n.ariaAuto){if(!n.ariaRole){var t=x.getFocusableElements(e).length>0?"dialog":"alertdialog";n.ariaRole=t}n.ariaLabelledBySelector||(n.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),n.ariaDescribedBySelector||(n.ariaDescribedBySelector="article,section,p")}n.ariaRole&&e.attr("role",n.ariaRole),x.applyAriaAttribute(e,"aria-labelledby",n.ariaLabelledById,n.ariaLabelledBySelector),x.applyAriaAttribute(e,"aria-describedby",n.ariaDescribedById,n.ariaDescribedBySelector)},applyAriaAttribute:function(e,n,a,o){if(a)return void e.attr(n,a);if(o){var r=e.attr("id"),i=e[0].querySelector(o);if(!i)return;var l=r+"-"+n;return t(i).attr("id",l),e.attr(n,l),l}},detectUIRouter:function(){return O.has("$transitions")?h:!!O.has("$state")&&v},getRouterLocationEventName:function(){return x.detectUIRouter()?"$stateChangeStart":"$locationChangeStart"}},P={__PRIVATE__:x,open:function(r){function i(n,t){var t=t||{};return t.headers=t.headers||{},e.extend(t.headers,{Accept:"text/html"}),T.$broadcast("ngDialog.templateLoading",n),A.get(n,t).then(function(e){return T.$broadcast("ngDialog.templateLoaded",n),e.data||""})}function l(n){return n?e.isString(n)&&v.plain?n:"boolean"!=typeof v.cache||v.cache?i(n,{cache:D}):i(n,{cache:!1}):"Empty template"}var u=null;if(r=r||{},!(p&&r.name&&(u=r.name.toLowerCase().replace(/\s/g,"-")+"-dialog",this.isOpen(u)))){var v=e.copy(n),h=++o;u=u||"ngdialog"+h,d.push(u),"undefined"!=typeof v.data&&("undefined"==typeof r.data&&(r.data={}),r.data=e.merge(e.copy(v.data),r.data)),e.extend(v,r);var C;$[u]=C=S.defer();var I;c[u]=I=e.isObject(v.scope)?v.scope.$new():T.$new();var B,F,j,R=e.extend({},v.resolve);return e.forEach(R,function(n,t){R[t]=e.isString(n)?O.get(n):O.invoke(n,null,null,t)}),S.all({template:l(v.template||v.templateUrl),locals:S.all(R)}).then(function(n){var o=n.template,r=n.locals;v.showClose&&(o+='<button aria-label="Dismiss" class="ngdialog-close"></button>');var i=v.overlay?"":" ngdialog-no-overlay";if(B=t('<div id="'+u+'" class="ngdialog'+i+'"></div>'),B.html(v.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+o+"</div>":'<div class="ngdialog-content" role="document">'+o+"</div>"),B.data("$ngDialogOptions",v),I.ngDialogId=u,v.data&&e.isString(v.data)){var l=v.data.replace(/^\s*/,"")[0];I.ngDialogData="{"===l||"["===l?e.fromJson(v.data):new String(v.data),I.ngDialogData.ngDialogId=u}else v.data&&e.isObject(v.data)&&(I.ngDialogData=v.data,I.ngDialogData.ngDialogId=u);if(v.className&&B.addClass(v.className),v.appendClassName&&B.addClass(v.appendClassName),v.width&&(j=B[0].querySelector(".ngdialog-content"),e.isString(v.width)?j.style.width=v.width:j.style.width=v.width+"px"),v.height&&(j=B[0].querySelector(".ngdialog-content"),e.isString(v.height)?j.style.height=v.height:j.style.height=v.height+"px"),v.disableAnimation&&B.addClass(s),F=v.appendTo&&e.isString(v.appendTo)?e.element(document.querySelector(v.appendTo)):N.body,x.applyAriaAttributes(B,v),[{name:"$ngDialogPreCloseCallback",value:v.preCloseCallback},{name:"$ngDialogOnOpenCallback",value:v.onOpenCallback}].forEach(function(n){if(n.value){var t;e.isFunction(n.value)?t=n.value:e.isString(n.value)&&I&&(e.isFunction(I[n.value])?t=I[n.value]:I.$parent&&e.isFunction(I.$parent[n.value])?t=I.$parent[n.value]:T&&e.isFunction(T[n.value])&&(t=T[n.value])),t&&B.data(n.name,t)}}),I.closeThisDialog=function(e){x.closeDialog(B,e)},v.controller&&(e.isString(v.controller)||e.isArray(v.controller)||e.isFunction(v.controller))){var c;v.controllerAs&&e.isString(v.controllerAs)&&(c=v.controllerAs);var d=k(v.controller,e.extend(r,{$scope:I,$element:B}),!0,c);v.bindToController&&e.extend(d.instance,{ngDialogId:I.ngDialogId,ngDialogData:I.ngDialogData,closeThisDialog:I.closeThisDialog,confirm:I.confirm}),"function"==typeof d?B.data("$ngDialogControllerController",d()):B.data("$ngDialogControllerController",d)}if(w(function(){var n=document.querySelectorAll(".ngdialog");x.deactivateAll(n),b(B)(I);var t=E.innerWidth-N.body.prop("clientWidth");N.html.addClass(v.bodyClassName),N.body.addClass(v.bodyClassName),f.push(v.bodyClassName);var a=t-(E.innerWidth-N.body.prop("clientWidth"));a>0&&x.setBodyPadding(a),F.append(B),x.activate(B),v.trapFocus&&x.autoFocus(B),v.name?T.$broadcast("ngDialog.opened",{dialog:B,name:v.name}):T.$broadcast("ngDialog.opened",B);var o=B.data("$ngDialogOnOpenCallback");o&&e.isFunction(o)&&o.call(B)}),m||(N.body.bind("keydown",x.onDocumentKeydown),m=!0),v.closeByNavigation&&g.push(B),v.preserveFocus&&B.data("$ngDialogPreviousFocus",document.activeElement),a=function(e){var n=!!v.closeByDocument&&t(e.target).hasClass("ngdialog-overlay"),a=t(e.target).hasClass("ngdialog-close");(n||a)&&P.close(B.attr("id"),a?"$closeButton":"$document")},"undefined"!=typeof E.Hammer){var p=I.hammerTime=E.Hammer(B[0]);p.on("tap",a)}else B.bind("click",a);return y+=1,P}),{id:u,closePromise:C.promise,close:function(e){x.closeDialog(B,e)}}}},openConfirm:function(a){var o=S.defer(),r=e.copy(n);a=a||{},"undefined"!=typeof r.data&&("undefined"==typeof a.data&&(a.data={}),a.data=e.merge(e.copy(r.data),a.data)),e.extend(r,a),r.scope=e.isObject(r.scope)?r.scope.$new():T.$new(),r.scope.confirm=function(e){o.resolve(e);var n=t(document.getElementById(i.id));x.performCloseDialog(n,e)};var i=P.open(r);if(i)return i.closePromise.then(function(e){return e?o.reject(e.value):o.reject()}),o.promise},isOpen:function(e){var n=t(document.getElementById(e));return n.length>0},close:function(e,n){var a=t(document.getElementById(e));if(a.length)x.closeDialog(a,n);else if("$escape"===e){var o=d[d.length-1];a=t(document.getElementById(o)),a.data("$ngDialogOptions").closeByEscape&&x.closeDialog(a,"$escape")}else P.closeAll(n);return P},closeAll:function(e){for(var n=document.querySelectorAll(".ngdialog"),a=n.length-1;a>=0;a--){var o=n[a];x.closeDialog(t(o),e)}},getOpenDialogs:function(){return d},getDefaults:function(){return n}};e.forEach(["html","body"],function(e){if(N[e]=C.find(e),u[e]){var n=x.getRouterLocationEventName();T.$on(n,function(){N[e]=C.find(e)})}});var I=x.detectUIRouter();if(I===h){var B=O.get("$transitions");B.onStart({},function(e){for(;g.length>0;){var n=g.pop();if(x.closeDialog(n)===!1)return!1}})}else{var F=I===v?"$stateChangeStart":"$locationChangeStart";T.$on(F,function(e){for(;g.length>0;){var n=g.pop();x.closeDialog(n)===!1&&e.preventDefault()}})}return P}]}),n.directive("ngDialog",["ngDialog",function(n){return{restrict:"A",scope:{ngDialogScope:"="},link:function(t,a,o){a.on("click",function(a){a.preventDefault();var r=e.isDefined(t.ngDialogScope)?t.ngDialogScope:"noScope";e.isDefined(o.ngDialogClosePrevious)&&n.close(o.ngDialogClosePrevious);var i=n.getDefaults();n.open({template:o.ngDialog,className:o.ngDialogClass||i.className,appendClassName:o.ngDialogAppendClass,controller:o.ngDialogController,controllerAs:o.ngDialogControllerAs,bindToController:o.ngDialogBindToController,disableAnimation:o.ngDialogDisableAnimation,scope:r,data:o.ngDialogData,showClose:"false"!==o.ngDialogShowClose&&("true"===o.ngDialogShowClose||i.showClose),closeByDocument:"false"!==o.ngDialogCloseByDocument&&("true"===o.ngDialogCloseByDocument||i.closeByDocument),closeByEscape:"false"!==o.ngDialogCloseByEscape&&("true"===o.ngDialogCloseByEscape||i.closeByEscape),overlay:"false"!==o.ngDialogOverlay&&("true"===o.ngDialogOverlay||i.overlay),preCloseCallback:o.ngDialogPreCloseCallback||i.preCloseCallback,onOpenCallback:o.ngDialogOnOpenCallback||i.onOpenCallback,bodyClassName:o.ngDialogBodyClass||i.bodyClassName})})}}}]),n});,a.isString(q.height)?K.style.height=q.height:K.style.height=q.height+"px"),q.disableAnimation&&I.addClass(i),J=q.appendTo&&a.isString(q.appendTo)?a.element(document.querySelector(q.appendTo)):E.body,F.applyAriaAttributes(I,q),[{name:"$ngDialogPreCloseCallback",value:q.preCloseCallback},{name:"$ngDialogOnOpenCallback",value:q.onOpenCallback}].forEach(function(b){if(b.value){var c;a.isFunction(b.value)?c=b.value:a.isString(b.value)&&H&&(a.isFunction(H[b.value])?c=H[b.value]:H.$parent&&a.isFunction(H.$parent[b.value])?c=H.$parent[b.value]:z&&a.isFunction(z[b.value])&&(c=z[b.value])),c&&I.data(b.name,c)}}),H.closeThisDialog=function(a){F.closeDialog(I,a)},q.controller&&(a.isString(q.controller)||a.isArray(q.controller)||a.isFunction(q.controller))){var k;q.controllerAs&&a.isString(q.controllerAs)&&(k=q.controllerAs);var l=C(q.controller,a.extend(f,{$scope:H,$element:I}),!0,k);q.bindToController&&a.extend(l.instance,{ngDialogId:H.ngDialogId,ngDialogData:H.ngDialogData,closeThisDialog:H.closeThisDialog,confirm:H.confirm}),"function"==typeof l?I.data("$ngDialogControllerController",l()):I.data("$ngDialogControllerController",l)}if(A(function(){var b=document.querySelectorAll(".ngdialog");F.deactivateAll(b),w(I)(H);var c=B.innerWidth-E.body.prop("clientWidth");E.html.addClass(q.bodyClassName),E.body.addClass(q.bodyClassName),m.push(q.bodyClassName);var d=c-(B.innerWidth-E.body.prop("clientWidth"));d>0&&F.setBodyPadding(d),J.append(I),F.activate(I),q.trapFocus&&F.autoFocus(I),q.name?z.$broadcast("ngDialog.opened",{dialog:I,name:q.name}):z.$broadcast("ngDialog.opened",I);var e=I.data("$ngDialogOnOpenCallback");e&&a.isFunction(e)&&e.call(I)}),n||(E.body.bind("keydown",F.onDocumentKeydown),n=!0),q.closeByNavigation&&p.push(I),q.preserveFocus&&I.data("$ngDialogPreviousFocus",document.activeElement),d=function(a){var b=!!q.closeByDocument&&c(a.target).hasClass("ngdialog-overlay"),d=c(a.target).hasClass("ngdialog-close");(b||d)&&G.close(I.attr("id"),d?"$closeButton":"$document")},"undefined"!=typeof B.Hammer){var o=H.hammerTime=B.Hammer(I[0]);o.on("tap",d)}else I.bind("click",d);return s+=1,G}),{id:j,closePromise:u.promise,close:function(a){F.closeDialog(I,a)}}}},openConfirm:function(d){var e=x.defer(),f=a.copy(b);d=d||{},"undefined"!=typeof f.data&&("undefined"==typeof d.data&&(d.data={}),d.data=a.merge(a.copy(f.data),d.data)),a.extend(f,d),f.scope=a.isObject(f.scope)?f.scope.$new():z.$new(),f.scope.confirm=function(a){e.resolve(a);var b=c(document.getElementById(g.id));F.performCloseDialog(b,a)};var g=G.open(f);if(g)return g.closePromise.then(function(a){return a?e.reject(a.value):e.reject()}),e.promise},isOpen:function(a){var b=c(document.getElementById(a));return b.length>0},close:function(a,b){var d=c(document.getElementById(a));if(d.length)F.closeDialog(d,b);else if("$escape"===a){var e=l[l.length-1];d=c(document.getElementById(e)),d.data("$ngDialogOptions").closeByEscape&&F.closeDialog(d,"$escape")}else G.closeAll(b);return G},closeAll:function(a){for(var b=document.querySelectorAll(".ngdialog"),d=b.length-1;d>=0;d--){var e=b[d];F.closeDialog(c(e),a)}},getOpenDialogs:function(){return l},getDefaults:function(){return b}};a.forEach(["html","body"],function(a){if(E[a]=u.find(a),j[a]){var b=F.getRouterLocationEventName();z.$on(b,function(){E[a]=u.find(a)})}});var H=F.detectUIRouter();if(H===r){var I=D.get("$transitions");I.onStart({},function(a){for(;p.length>0;){var b=p.pop();if(F.closeDialog(b)===!1)return!1}})}else{var J=H===q?"$stateChangeStart":"$locationChangeStart";z.$on(J,function(a){for(;p.length>0;){var b=p.pop();F.closeDialog(b)===!1&&a.preventDefault()}})}return G}]}),b.directive("ngDialog",["ngDialog",function(b){return{restrict:"A",scope:{ngDialogScope:"="},link:function(c,d,e){d.on("click",function(d){d.preventDefault();var f=a.isDefined(c.ngDialogScope)?c.ngDialogScope:"noScope";a.isDefined(e.ngDialogClosePrevious)&&b.close(e.ngDialogClosePrevious);var g=b.getDefaults();b.open({template:e.ngDialog,className:e.ngDialogClass||g.className,appendClassName:e.ngDialogAppendClass,controller:e.ngDialogController,controllerAs:e.ngDialogControllerAs,bindToController:e.ngDialogBindToController,disableAnimation:e.ngDialogDisableAnimation,scope:f,data:e.ngDialogData,showClose:"false"!==e.ngDialogShowClose&&("true"===e.ngDialogShowClose||g.showClose),closeByDocument:"false"!==e.ngDialogCloseByDocument&&("true"===e.ngDialogCloseByDocument||g.closeByDocument),closeByEscape:"false"!==e.ngDialogCloseByEscape&&("true"===e.ngDialogCloseByEscape||g.closeByEscape),overlay:"false"!==e.ngDialogOverlay&&("true"===e.ngDialogOverlay||g.overlay),preCloseCallback:e.ngDialogPreCloseCallback||g.preCloseCallback,onOpenCallback:e.ngDialogOnOpenCallback||g.onOpenCallback,bodyClassName:e.ngDialogBodyClass||g.bodyClassName})})}}}]),b});